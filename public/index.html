<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>웨딩 플래너 - 결혼 준비 일정 관리</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gugi&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- 마이페이지 버튼 (전역) -->
    <button id="mypage-btn" class="mypage-btn">👤 마이페이지</button>

    <div class="container">
        <!-- 날짜 입력 화면 -->
        <div id="date-input-screen" class="screen active">
            <div class="header">
                <h1>💍 웨딩 플래너</h1>
                <p class="subtitle">행복한 결혼 준비를 시작해보세요</p>
            </div>

            <div class="card">
                <h2>결혼 준비 일정 설정</h2>
                <p class="description">결혼식 날짜와 준비 시작 날짜를 입력하시면, 최적의 준비 일정을 추천해드립니다.</p>

                <form id="date-form">
                    <div class="form-group">
                        <label for="wedding-date">결혼식 예정일</label>
                        <input type="date" id="wedding-date" required>
                        <small>결혼식을 계획하고 있는 날짜를 선택해주세요</small>
                    </div>

                    <div class="form-group">
                        <label for="start-date">준비 시작 예정일</label>
                        <input type="date" id="start-date" required>
                        <small>결혼 준비를 시작하실 날짜를 선택해주세요</small>
                    </div>

                    <button type="submit" class="btn btn-primary">일정 추천받기</button>
                </form>
            </div>
        </div>

        <!-- 추천 일정 리스트 화면 -->
        <div id="timeline-screen" class="screen">
            <div class="header">
                <button id="back-to-input" class="btn-icon">← 뒤로</button>
                <h1>💍 추천 일정</h1>
                <div class="date-range" id="date-range-display"></div>
            </div>

            <div class="timeline-summary">
                <div class="summary-card">
                    <span class="summary-label">D-Day</span>
                    <span class="summary-value" id="d-day-count">-</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">준비 기간</span>
                    <span class="summary-value" id="prep-period">-</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">완료 항목</span>
                    <span class="summary-value" id="completed-count">0/4</span>
                </div>
            </div>

            <div class="card">
                <h2>체크리스트</h2>
                <p class="description">각 항목을 클릭하면 상세 정보와 추천 장소를 확인할 수 있습니다.</p>

                <div id="timeline-list" class="timeline-list">
                    <!-- 동적으로 생성될 타임라인 아이템들 -->
                </div>

                <button id="save-timeline" class="btn btn-secondary">일정 저장하기</button>
            </div>
        </div>

        <!-- 상세 정보 화면 -->
        <div id="detail-screen" class="screen">
            <div class="header">
                <button id="back-to-timeline" class="btn-icon">← 뒤로</button>
                <h1 id="detail-title">-</h1>
            </div>

            <div class="card">
                <div class="detail-info">
                    <div class="detail-date-badge" id="detail-date">-</div>
                    <div class="detail-description" id="detail-description">-</div>

                    <div class="detail-section">
                        <h3>준비 팁</h3>
                        <ul id="detail-tips">
                            <!-- 동적으로 생성될 팁 -->
                        </ul>
                    </div>

                    <div class="detail-section">
                        <h3>추천 장소</h3>
                        <div id="detail-places" class="places-grid">
                            <!-- 동적으로 생성될 장소 카드 -->
                        </div>
                    </div>

                    <div class="detail-actions">
                        <button id="mark-completed" class="btn btn-primary">완료 표시</button>
                        <button id="search-more" class="btn btn-secondary">더 많은 장소 보기</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 마이페이지 화면 -->
        <div id="mypage-screen" class="screen">
            <div class="header">
                <button id="back-from-mypage" class="btn-icon">← 뒤로</button>
                <h1>👤 마이페이지</h1>
            </div>

            <div class="card">
                <div class="mypage-profile">
                    <div class="profile-section">
                        <h2>내 정보</h2>
                        <div class="profile-info">
                            <div class="profile-avatar">
                                <span class="avatar-icon">👰</span>
                            </div>
                            <div class="profile-details">
                                <div class="nickname-display" id="nickname-display">
                                    <span id="current-nickname">닉네임을 설정해주세요</span>
                                    <button id="edit-nickname-btn" class="btn-icon-small">✏️</button>
                                </div>
                                <div class="nickname-edit" id="nickname-edit" style="display: none;">
                                    <input type="text" id="nickname-input" placeholder="닉네임을 입력하세요" maxlength="20">
                                    <button id="save-nickname-btn" class="btn-icon-small">✓</button>
                                    <button id="cancel-nickname-btn" class="btn-icon-small">✕</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mypage-section">
                        <h2>나의 웨딩 준비</h2>
                        <div id="mypage-wedding-info" class="wedding-info">
                            <!-- 저장된 일정 정보가 없을 때 -->
                            <div id="no-timeline-message" class="empty-message">
                                <p>아직 저장된 일정이 없습니다.</p>
                                <p>메인 화면에서 결혼 준비 일정을 만들어보세요!</p>
                            </div>

                            <!-- 저장된 일정 정보가 있을 때 -->
                            <div id="timeline-info" style="display: none;">
                                <div class="info-row">
                                    <span class="info-label">💒 결혼식 날짜</span>
                                    <span class="info-value" id="mypage-wedding-date">-</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">📅 준비 시작일</span>
                                    <span class="info-value" id="mypage-start-date">-</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">⏰ D-Day</span>
                                    <span class="info-value" id="mypage-dday">-</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">✅ 진행률</span>
                                    <span class="info-value" id="mypage-progress">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mypage-section">
                        <h2>체크리스트 요약</h2>
                        <div id="mypage-checklist" class="mypage-checklist">
                            <!-- 동적으로 생성될 체크리스트 -->
                        </div>
                    </div>

                    <div class="mypage-actions">
                        <button id="go-to-timeline" class="btn btn-primary">일정 보러가기</button>
                        <button id="reset-data" class="btn btn-secondary">데이터 초기화</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast 알림 -->
    <div id="toast" class="toast"></div>

    <script src="js/timeline.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
